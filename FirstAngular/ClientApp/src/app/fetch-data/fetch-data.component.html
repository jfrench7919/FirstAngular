<h1>People</h1>

<p>This component demonstrates fetching data from the server.</p>

<p *ngIf="!people"><em>Loading...</em></p>

<table class='table' *ngIf="people">
  <thead>
    <tr>
      <th>ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Title</th>
      <th>Job</th>
    </tr>
  </thead>
  <tbody>
    <tr  *ngFor="let person of people">
      <td>{{ person.id }}</td>
      <td>{{ person.firstName }}</td>
      <td>{{ person.lastName }}</td>
      <td>{{person.title}}</td>
      <td>{{person.personJob[0].job.name}}</td>
    </tr>
  </tbody>
</table>

<div>
  <table *ngIf="people">
    <tr>
      <td>
        {{people[0].firstName}}
      </td>
      <td>
        {{people[0].lastName}}
      </td>
      <td></td>
    </tr>
    <tr>
      <td>
        {{people[0].title}}
      </td>
    </tr>
    <tr *ngFor="let pj of people[0].personJob">
      <td colspan="3">
        <table *ngIf="pj.job">
          <tr>
            <td>{{pj.job.name}}</td>
          </tr>
          <tr *ngFor="let jd of pj.job.jobDuty">
            <td>{{jd.duty.description}}</td>
          </tr>
        </table>
      </td>
    </tr>
  </table>
</div>
